{
  "_properties": {
      "isServerWorkflow": false
  },
  "components": [
      {
          "id": 2,
          "steps": [
              {
                  "id": 3,
                  "inputs": {},
                  "position": "0,0",
                  "purpose": "start",
                  "title": "Start",
                  "transitions": [
                      {
                          "id": 788,
                          "inputs": {},
                          "position": "90,60 90,130",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 715
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Subworkflow",
                  "id": 259,
                  "inputs": {
                      "subworkflow": {
                          "accessors": [
                              "$$subworkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$subworkflow",
                          "source": "$$subworkflow"
                      }
                  },
                  "name": "getCode",
                  "position": "890,130",
                  "title": "Subworkflow"
              },
              {
                  "action": "gcx:wf:core::Container",
                  "description": "Initialize variables",
                  "id": 715,
                  "inputs": {},
                  "position": "-30,130",
                  "title": "Setup",
                  "transitions": [
                      {
                          "id": 769,
                          "inputs": {},
                          "position": "90,250 90,310",
                          "target": {
                              "id": 717
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Container",
                  "description": "Get the target layer",
                  "id": 717,
                  "inputs": {},
                  "position": "-30,310",
                  "title": "Find Layer",
                  "transitions": [
                      {
                          "id": 771,
                          "inputs": {},
                          "position": "90,430 90,520",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 721
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Subworkflow",
                  "id": 719,
                  "inputs": {
                      "subworkflow": {
                          "accessors": [
                              "$$subworkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$subworkflow",
                          "source": "$$subworkflow"
                      }
                  },
                  "name": "generateQueryFields",
                  "position": "310,520",
                  "title": "Query Fields"
              },
              {
                  "action": "gcx:wf:forms:form:DisplayForm",
                  "id": 721,
                  "inputs": {
                      "form": {
                          "accessors": [],
                          "code": "resources.forms[values.id]",
                          "values": {
                              "id": 713
                          }
                      },
                      "reset": false
                  },
                  "name": "queryForm",
                  "position": "-30,520",
                  "title": "Display Form",
                  "transitions": [
                      {
                          "id": 773,
                          "inputs": {},
                          "position": "90,640 90,700",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 723
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 723,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$queryForm"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$queryForm.result == \"submit\"",
                          "source": "$queryForm.result == \"submit\""
                      }
                  },
                  "position": "30,700",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "false",
                          "id": 280,
                          "inputs": {},
                          "position": "150,730 240,730 240,780",
                          "sourceConnector": "right",
                          "target": {
                              "id": 729
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "true",
                          "id": 283,
                          "position": "30,730 -110,730 -110,860",
                          "sourceConnector": "left",
                          "target": {
                              "id": 741
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Subworkflow",
                  "id": 727,
                  "inputs": {
                      "subworkflow": {
                          "accessors": [
                              "$$subworkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$subworkflow",
                          "source": "$$subworkflow"
                      }
                  },
                  "name": "changedEvent",
                  "position": "600,520",
                  "title": "Changed"
              },
              {
                  "action": "gcx:wf:core::SetWorkflowOutput",
                  "id": 729,
                  "inputs": {
                      "name": "action",
                      "value": {
                          "accessors": [
                              "$queryForm"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$queryForm.result",
                          "source": "$queryForm.result"
                      }
                  },
                  "position": "120,780",
                  "title": "Set Workflow Output",
                  "transitions": [
                      {
                          "id": 282,
                          "position": "240,810 240,870",
                          "target": {
                              "id": 731
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Exit",
                  "id": 731,
                  "inputs": {},
                  "position": "150,870",
                  "title": "Exit"
              },
              {
                  "action": "gcx:wf:core::Subworkflow",
                  "id": 735,
                  "inputs": {
                      "subworkflow": {
                          "accessors": [
                              "$$subworkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$subworkflow",
                          "source": "$$subworkflow"
                      }
                  },
                  "name": "clickedEvent",
                  "position": "300,310",
                  "title": "Clicked"
              },
              {
                  "action": "gcx:wf:core::Subworkflow",
                  "id": 737,
                  "inputs": {
                      "subworkflow": {
                          "accessors": [
                              "$$subworkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$subworkflow",
                          "source": "$$subworkflow"
                      }
                  },
                  "name": "validateEvent",
                  "position": "600,310",
                  "title": "Validate"
              },
              {
                  "action": "gcx:wf:core::Container",
                  "id": 741,
                  "inputs": {},
                  "position": "-230,860",
                  "title": "Run Query",
                  "transitions": [
                      {
                          "id": 787,
                          "inputs": {},
                          "position": "-230,905 -250,905 -250,580 -30,580",
                          "sourceConnector": "left",
                          "target": {
                              "id": 721
                          },
                          "targetConnector": "left"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Subworkflow",
                  "id": 743,
                  "inputs": {
                      "subworkflow": {
                          "accessors": [
                              "$$subworkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$subworkflow",
                          "source": "$$subworkflow"
                      }
                  },
                  "name": "populateEvent",
                  "position": "300,130",
                  "title": "Populate"
              },
              {
                  "action": "gcx:wf:core::Subworkflow",
                  "id": 745,
                  "inputs": {
                      "subworkflow": {
                          "accessors": [
                              "$$subworkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$subworkflow",
                          "source": "$$subworkflow"
                      }
                  },
                  "name": "suggestEvent",
                  "position": "600,130",
                  "title": "Suggest"
              }
          ]
      },
      {
          "id": 260,
          "steps": [
              {
                  "id": 261,
                  "inputs": {},
                  "position": "0,0",
                  "purpose": "start",
                  "title": "Subworkflow",
                  "transitions": [
                      {
                          "id": 268,
                          "position": "90,60 90,110",
                          "target": {
                              "id": 267
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Evaluate",
                  "id": 265,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$layer",
                              "$layer",
                              "$layer",
                              "$layer",
                              "$attributes",
                              "$attributes"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 37,
                                  "kind": "idref"
                              },
                              {
                                  "count": 6,
                                  "index": 79,
                                  "kind": "idref"
                              },
                              {
                                  "count": 6,
                                  "index": 118,
                                  "kind": "idref"
                              },
                              {
                                  "count": 6,
                                  "index": 159,
                                  "kind": "idref"
                              },
                              {
                                  "count": 11,
                                  "index": 219,
                                  "kind": "idref"
                              },
                              {
                                  "count": 11,
                                  "index": 525,
                                  "kind": "idref"
                              }
                          ],
                          "code": "(function () {\n    var lookup = undefined;\n    if (!!$layer.result.subtypeField) {\n        lookup = $layer.result.subtypeField;\n    }\n    else if ($layer.result.typeIdField) {\n        lookup = $layer.result.typeIdField;\n    }\n    var keys = [];\n    for (var key in $attributes.result) {\n        keys.push(key);\n    }\n    var key = keys.find(function (k) {\n        if (k === lookup) {\n            return true;\n        }\n        if (k === null || k === undefined) {\n            return false;\n        }\n        if (lookup === null || lookup === undefined) {\n            return false;\n        }\n        return k.toLowerCase() === lookup.toLowerCase();\n    });\n    return $attributes.result[key];\n})()",
                          "source": "(()=>{\nvar lookup = undefined;\n\nif(!!$layer.result.subtypeField) {\n   lookup = $layer.result.subtypeField;\n} else if ($layer.result.typeIdField) {\n   lookup = $layer.result.typeIdField;\n}\n\nvar keys = [];\nfor(var key in $attributes.result) {\nkeys.push(key);\n}\nvar key = keys.find((k) => {\n  if(k === lookup) {\n    return true;\n  }\n  if(k === null || k === undefined) {\n    return false;\n  }\n  if(lookup === null || lookup  === undefined) {\n    return false;\n  }\n  return k.toLowerCase() === lookup.toLowerCase();\n\n});\n\nreturn $attributes.result[key];\n\n})()"
                      }
                  },
                  "name": "code",
                  "position": "-30,230",
                  "title": "Evaluate Expression",
                  "transitions": [
                      {
                          "id": 271,
                          "position": "90,300 90,350",
                          "target": {
                              "id": 270
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 267,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$getCode"
                          ],
                          "annotations": [
                              {
                                  "count": 8,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$getCode.arguments.attributes",
                          "source": "$getCode.arguments.attributes"
                      }
                  },
                  "name": "attributes",
                  "position": "-30,110",
                  "title": "Create Value",
                  "transitions": [
                      {
                          "id": 269,
                          "position": "90,180 90,230",
                          "target": {
                              "id": 265
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Evaluate",
                  "id": 270,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$getCode",
                              "$code"
                          ],
                          "annotations": [
                              {
                                  "count": 8,
                                  "index": 0,
                                  "kind": "idref"
                              },
                              {
                                  "count": 5,
                                  "index": 19,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$getCode.setResult($code.result)",
                          "source": "$getCode.setResult($code.result)"
                      }
                  },
                  "name": "evaluate1",
                  "position": "-30,350",
                  "title": "Evaluate Expression"
              }
          ]
      },
      {
          "id": 290,
          "steps": [
              {
                  "action": "gcx:wf:core:subworkflow:RunSubworkflow",
                  "id": 292,
                  "inputs": {
                      "arguments": {
                          "accessors": [
                              "$suggestSearchField"
                          ],
                          "annotations": [
                              {
                                  "count": 19,
                                  "index": 8,
                                  "kind": "idref"
                              }
                          ],
                          "code": "{ field: $suggestSearchField.result.field }",
                          "source": "{field: $suggestSearchField.result.field}"
                      },
                      "subworkflowId": {
                          "accessors": [
                              "activities"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "activities.generateQueryFields",
                          "source": "activities.generateQueryFields"
                      }
                  },
                  "name": "suggestFields",
                  "position": "-40,670",
                  "title": "Run Subworkflow",
                  "transitions": [
                      {
                          "id": 324,
                          "inputs": {},
                          "position": "80,740 80,790",
                          "target": {
                              "id": 294
                          }
                      }
                  ]
              },
              {
                  "action": "uuid:fc5de4bd-b399-4353-82ea-cbf393a350b3::GetLayerCodedValues",
                  "id": 294,
                  "inputs": {
                      "field": {
                          "accessors": [
                              "$suggestSearchField"
                          ],
                          "annotations": [
                              {
                                  "count": 19,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$suggestSearchField.result.field",
                          "source": "$suggestSearchField.result.field"
                      },
                      "layer": {
                          "accessors": [
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layer.result",
                          "source": "$layer.result"
                      }
                  },
                  "name": "suggestCodedValues",
                  "position": "-40,790",
                  "title": "Get Layer Coded Values",
                  "transitions": [
                      {
                          "id": 326,
                          "inputs": {},
                          "position": "80,860 80,1100",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 296
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 296,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$suggestCodedValues",
                              "$suggestCodedValues"
                          ],
                          "annotations": [
                              {
                                  "count": 19,
                                  "index": 2,
                                  "kind": "idref"
                              },
                              {
                                  "count": 19,
                                  "index": 31,
                                  "kind": "idref"
                              }
                          ],
                          "code": "!!$suggestCodedValues.result && $suggestCodedValues.result.length > 0",
                          "source": "!!$suggestCodedValues.result &&$suggestCodedValues.result.length > 0"
                      }
                  },
                  "position": "20,1100",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "true",
                          "id": 328,
                          "inputs": {},
                          "position": "20,1130 -100,1130 -100,1230",
                          "sourceConnector": "left",
                          "target": {
                              "id": 298
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "false",
                          "id": 330,
                          "inputs": {},
                          "position": "140,1130 240,1130 240,1520",
                          "sourceConnector": "right",
                          "target": {
                              "id": 300
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 298,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$suggestCodedValues",
                              "$textReplace1"
                          ],
                          "annotations": [
                              {
                                  "count": 19,
                                  "index": 15,
                                  "kind": "idref"
                              },
                              {
                                  "count": 13,
                                  "index": 97,
                                  "kind": "idref"
                              }
                          ],
                          "code": "(function () {\n    return $suggestCodedValues.result.filter(function (x) {\n        return x.name.toUpperCase().includes($textReplace1.result.toUpperCase());\n    });\n})()",
                          "source": "(()=> {\nreturn $suggestCodedValues.result.filter((x)=> { \n  return x.name.toUpperCase().includes($textReplace1.result.toUpperCase()\n)})\n\n })()"
                      }
                  },
                  "name": "filteredSuggestCodes",
                  "position": "-220,1230",
                  "title": "Create Value",
                  "transitions": [
                      {
                          "id": 336,
                          "inputs": {},
                          "position": "-100,1300 -100,1380",
                          "target": {
                              "id": 306
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Evaluate",
                  "id": 300,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$suggestWhereClause",
                              "$suggestWhereClause",
                              "$suggestWhereClause",
                              "$suggestWhereClause",
                              "$suggestSearchField",
                              "$textReplace1",
                              "$suggestSearchField",
                              "$textReplace1"
                          ],
                          "annotations": [
                              {
                                  "count": 19,
                                  "index": 0,
                                  "kind": "idref"
                              },
                              {
                                  "count": 19,
                                  "index": 31,
                                  "kind": "idref"
                              },
                              {
                                  "count": 19,
                                  "index": 61,
                                  "kind": "idref"
                              },
                              {
                                  "count": 19,
                                  "index": 104,
                                  "kind": "idref"
                              },
                              {
                                  "count": 19,
                                  "index": 144,
                                  "kind": "idref"
                              },
                              {
                                  "count": 13,
                                  "index": 193,
                                  "kind": "idref"
                              },
                              {
                                  "count": 19,
                                  "index": 230,
                                  "kind": "idref"
                              },
                              {
                                  "count": 13,
                                  "index": 279,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$suggestWhereClause.result = !!$suggestWhereClause.result && $suggestWhereClause.result.length > 0 ? \"\".concat($suggestWhereClause.result, \" AND UPPER(\").concat($suggestSearchField.result.field, \") LIKE UPPER('\").concat($textReplace1.result, \"%')\") : \"UPPER(\".concat($suggestSearchField.result.field, \") LIKE UPPER('\").concat($textReplace1.result, \"%')\")",
                          "source": "$suggestWhereClause.result = !!$suggestWhereClause.result && $suggestWhereClause.result.length > 0 ? `${$suggestWhereClause.result} AND UPPER(${$suggestSearchField.result.field}) LIKE UPPER('${$textReplace1.result}%')` : `UPPER(${$suggestSearchField.result.field}) LIKE UPPER('${$textReplace1.result}%')`"
                      }
                  },
                  "name": "updatedSuggestWhereClause",
                  "position": "120,1520",
                  "title": "Evaluate Expression",
                  "transitions": [
                      {
                          "id": 338,
                          "inputs": {},
                          "position": "240,1590 240,1650",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 308
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "uuid:fc5de4bd-b399-4353-82ea-cbf393a350b3::GenerateWhereClause",
                  "id": 302,
                  "inputs": {
                      "layer": {
                          "accessors": [
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layer.result",
                          "source": "$layer.result"
                      },
                      "queryFields": {
                          "accessors": [
                              "$searchFields"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$searchFields.result",
                          "source": "$searchFields.result"
                      },
                      "targetForm": {
                          "accessors": [
                              "$queryForm"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$queryForm",
                          "source": "$queryForm"
                      }
                  },
                  "name": "suggestWhereClause",
                  "position": "-40,360",
                  "title": "Generate Where Clause",
                  "transitions": [
                      {
                          "id": 332,
                          "inputs": {},
                          "position": "80,430 80,490",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 304
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::TextReplace",
                  "description": "Escape apostrophe characters to avoid SQL injection and broken queries.",
                  "id": 304,
                  "inputs": {
                      "newValue": "''",
                      "oldValue": "'",
                      "text": {
                          "accessors": [
                              "$suggestEventData"
                          ],
                          "annotations": [
                              {
                                  "count": 17,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$suggestEventData.argument",
                          "source": "$suggestEventData.argument"
                      }
                  },
                  "name": "textReplace1",
                  "position": "-40,490",
                  "title": "Text Replace",
                  "transitions": [
                      {
                          "id": 334,
                          "inputs": {},
                          "position": "80,620 80,670",
                          "target": {
                              "id": 292
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 306,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$filteredSuggestCodes"
                          ],
                          "annotations": [
                              {
                                  "count": 21,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$filteredSuggestCodes.result.length > 0",
                          "source": "$filteredSuggestCodes.result.length > 0"
                      }
                  },
                  "position": "-160,1380",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "true",
                          "id": 340,
                          "inputs": {},
                          "position": "-160,1410 -250,1410 -250,1520",
                          "sourceConnector": "left",
                          "target": {
                              "id": 310
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:arcgis:query:QueryTask",
                  "description": "Query for features.",
                  "id": 308,
                  "inputs": {
                      "outFields": {
                          "accessors": [
                              "$suggestSearchField"
                          ],
                          "annotations": [
                              {
                                  "count": 19,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$suggestSearchField.result.field",
                          "source": "$suggestSearchField.result.field"
                      },
                      "returnDistinctValues": true,
                      "returnGeometry": false,
                      "url": {
                          "accessors": [
                              "$layerUrl"
                          ],
                          "annotations": [
                              {
                                  "count": 9,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layerUrl.result",
                          "source": "$layerUrl.result"
                      },
                      "where": {
                          "accessors": [
                              "$suggestWhereClause"
                          ],
                          "annotations": [
                              {
                                  "count": 19,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$suggestWhereClause.result",
                          "source": "$suggestWhereClause.result"
                      }
                  },
                  "name": "suggestFeatureQuery",
                  "position": "120,1650",
                  "title": "Query Layer",
                  "transitions": [
                      {
                          "id": 342,
                          "inputs": {},
                          "position": "240,1750 240,1790",
                          "target": {
                              "id": 312
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::GetFormElementItemsFromCollection",
                  "id": 310,
                  "inputs": {
                      "collection": {
                          "accessors": [
                              "$filteredSuggestCodes"
                          ],
                          "annotations": [
                              {
                                  "count": 21,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$filteredSuggestCodes.result",
                          "source": "$filteredSuggestCodes.result"
                      },
                      "labelFieldName": "name",
                      "valueFieldName": "code"
                  },
                  "name": "suggestCodedFormItems",
                  "position": "-370,1520",
                  "title": "Get Form Element Items From Collection",
                  "transitions": [
                      {
                          "id": 344,
                          "inputs": {},
                          "position": "-250,1590 -250,1670",
                          "target": {
                              "id": 314
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::GetFormElementItemsFromFeatures",
                  "description": "Convert the features into form element items to be used in the element.",
                  "id": 312,
                  "inputs": {
                      "features": {
                          "accessors": [
                              "$suggestFeatureQuery"
                          ],
                          "annotations": [
                              {
                                  "count": 20,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$suggestFeatureQuery.features",
                          "source": "$suggestFeatureQuery.features"
                      },
                      "labelFieldName": {
                          "accessors": [
                              "$suggestSearchField"
                          ],
                          "annotations": [
                              {
                                  "count": 19,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$suggestSearchField.result.field",
                          "source": "$suggestSearchField.result.field"
                      },
                      "valueFieldName": {
                          "accessors": [
                              "$suggestSearchField"
                          ],
                          "annotations": [
                              {
                                  "count": 19,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$suggestSearchField.result.field",
                          "source": "$suggestSearchField.result.field"
                      }
                  },
                  "name": "suggestFeatureFormItems",
                  "position": "120,1790",
                  "title": "Get Form Element Items From Features",
                  "transitions": [
                      {
                          "id": 346,
                          "inputs": {},
                          "position": "240,1920 240,1990",
                          "target": {
                              "id": 316
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::SetFormElementItems",
                  "description": "",
                  "id": 314,
                  "inputs": {
                      "elementName": {
                          "accessors": [
                              "$suggestEventData"
                          ],
                          "annotations": [
                              {
                                  "count": 17,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$suggestEventData.elementId",
                          "source": "$suggestEventData.elementId"
                      },
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      },
                      "items": {
                          "accessors": [
                              "$suggestCodedFormItems"
                          ],
                          "annotations": [
                              {
                                  "count": 22,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$suggestCodedFormItems.items",
                          "source": "$suggestCodedFormItems.items"
                      }
                  },
                  "position": "-370,1670",
                  "title": "Set Form Element Items"
              },
              {
                  "action": "gcx:wf:forms::SetFormElementItems",
                  "description": "",
                  "id": 316,
                  "inputs": {
                      "elementName": {
                          "accessors": [
                              "$suggestEventData"
                          ],
                          "annotations": [
                              {
                                  "count": 17,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$suggestEventData.elementId",
                          "source": "$suggestEventData.elementId"
                      },
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      },
                      "items": {
                          "accessors": [
                              "$suggestFeatureFormItems"
                          ],
                          "annotations": [
                              {
                                  "count": 24,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$suggestFeatureFormItems.items",
                          "source": "$suggestFeatureFormItems.items"
                      }
                  },
                  "position": "120,1990",
                  "title": "Set Form Element Items"
              },
              {
                  "action": "gcx:wf:core::Evaluate",
                  "id": 318,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$searchFields",
                              "$suggestEventData"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              },
                              {
                                  "count": 17,
                                  "index": 41,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$searchFields.result.find(function (x) { return x.field === $suggestEventData.elementId; })",
                          "source": "$searchFields.result.find(x=> x.field ===$suggestEventData.elementId)"
                      }
                  },
                  "name": "suggestSearchField",
                  "position": "-40,240",
                  "title": "Evaluate Expression",
                  "transitions": [
                      {
                          "id": 348,
                          "inputs": {},
                          "position": "80,310 80,360",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 302
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::GetFormEventData",
                  "id": 320,
                  "inputs": {
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      }
                  },
                  "name": "suggestEventData",
                  "position": "-40,120",
                  "title": "Get Form Event Data",
                  "transitions": [
                      {
                          "id": 350,
                          "inputs": {},
                          "position": "80,190 80,240",
                          "target": {
                              "id": 318
                          }
                      }
                  ]
              },
              {
                  "id": 322,
                  "inputs": {},
                  "position": "-10,0",
                  "purpose": "start",
                  "title": "Subworkflow",
                  "transitions": [
                      {
                          "id": 352,
                          "inputs": {},
                          "position": "80,60 80,120",
                          "target": {
                              "id": 320
                          }
                      }
                  ]
              }
          ]
      },
      {
          "id": 354,
          "steps": [
              {
                  "action": "gcx:wf:core:subworkflow:RunSubworkflow",
                  "id": 273,
                  "inputs": {
                      "arguments": {
                          "accessors": [
                              "$populateQuery"
                          ],
                          "annotations": [
                              {
                                  "count": 14,
                                  "index": 13,
                                  "kind": "idref"
                              }
                          ],
                          "code": "{ attributes: $populateQuery.feature.attributes }",
                          "source": "{attributes: $populateQuery.feature.attributes}"
                      },
                      "subworkflowId": {
                          "accessors": [
                              "activities"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "activities.getCode",
                          "source": "activities.getCode"
                      }
                  },
                  "name": "populateCode",
                  "position": "-20,870",
                  "title": "Run Subworkflow",
                  "transitions": [
                      {
                          "id": 274,
                          "position": "100,940 100,1010",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 362
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core:subworkflow:RunSubworkflow",
                  "id": 356,
                  "inputs": {
                      "arguments": {
                          "accessors": [
                              "$populateSearchField"
                          ],
                          "annotations": [
                              {
                                  "count": 20,
                                  "index": 8,
                                  "kind": "idref"
                              }
                          ],
                          "code": "{ field: $populateSearchField.result.field }",
                          "source": "{field: $populateSearchField.result.field}"
                      },
                      "subworkflowId": {
                          "accessors": [
                              "activities"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "activities.generateQueryFields",
                          "source": "activities.generateQueryFields"
                      }
                  },
                  "name": "populateFields",
                  "position": "-20,450",
                  "title": "Run Subworkflow",
                  "transitions": [
                      {
                          "id": 391,
                          "inputs": {},
                          "position": "100,520 100,580",
                          "target": {
                              "id": 358
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:arcgis:query:QueryTask",
                  "description": "Query for features.",
                  "id": 358,
                  "inputs": {
                      "outFields": {
                          "accessors": [
                              "$populateFields"
                          ],
                          "annotations": [
                              {
                                  "count": 15,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateFields.result.fields",
                          "source": "$populateFields.result.fields"
                      },
                      "returnDistinctValues": true,
                      "returnGeometry": false,
                      "url": {
                          "accessors": [
                              "$layerUrl"
                          ],
                          "annotations": [
                              {
                                  "count": 9,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layerUrl.result",
                          "source": "$layerUrl.result"
                      },
                      "where": {
                          "accessors": [
                              "$populateWhereClause",
                              "$populateWhereClause",
                              "$populateWhereClause"
                          ],
                          "annotations": [
                              {
                                  "count": 20,
                                  "index": 2,
                                  "kind": "idref"
                              },
                              {
                                  "count": 20,
                                  "index": 33,
                                  "kind": "idref"
                              },
                              {
                                  "count": 20,
                                  "index": 74,
                                  "kind": "idref"
                              }
                          ],
                          "code": "!!$populateWhereClause.result && $populateWhereClause.result.length > 0 ? $populateWhereClause.result : \"1=1\"",
                          "source": "!!$populateWhereClause.result && $populateWhereClause.result.length > 0 ? $populateWhereClause.result: `1=1`"
                      }
                  },
                  "name": "populateQuery",
                  "position": "-20,580",
                  "title": "Query Layer",
                  "transitions": [
                      {
                          "id": 393,
                          "inputs": {},
                          "position": "100,680 100,730",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 360
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 360,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$populateQuery"
                          ],
                          "annotations": [
                              {
                                  "count": 14,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateQuery.features.length > 0",
                          "source": "$populateQuery.features.length > 0"
                      }
                  },
                  "position": "40,730",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "true",
                          "id": 403,
                          "inputs": {},
                          "position": "40,760 20,760 20,850 100,850 100,870",
                          "sourceConnector": "left",
                          "target": {
                              "id": 273
                          }
                      }
                  ]
              },
              {
                  "action": "uuid:fc5de4bd-b399-4353-82ea-cbf393a350b3::GetLayerCodedValues",
                  "id": 362,
                  "inputs": {
                      "field": {
                          "accessors": [
                              "$populateSearchField"
                          ],
                          "annotations": [
                              {
                                  "count": 20,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateSearchField.result.field",
                          "source": "$populateSearchField.result.field"
                      },
                      "layer": {
                          "accessors": [
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layer.result",
                          "source": "$layer.result"
                      },
                      "subTypeCode": {
                          "accessors": [
                              "$populateCode"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateCode.result",
                          "source": "$populateCode.result"
                      }
                  },
                  "name": "populateCodedValues",
                  "position": "-20,1010",
                  "title": "Get Layer Coded Values",
                  "transitions": [
                      {
                          "id": 395,
                          "inputs": {},
                          "position": "100,1080 100,1170",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 364
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 364,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$populateCodedValues",
                              "$populateCodedValues"
                          ],
                          "annotations": [
                              {
                                  "count": 20,
                                  "index": 2,
                                  "kind": "idref"
                              },
                              {
                                  "count": 20,
                                  "index": 33,
                                  "kind": "idref"
                              }
                          ],
                          "code": "!!$populateCodedValues.result && $populateCodedValues.result.length > 0",
                          "source": "!!$populateCodedValues.result && $populateCodedValues.result.length > 0"
                      }
                  },
                  "position": "40,1170",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "false",
                          "id": 397,
                          "inputs": {},
                          "position": "160,1200 360,1200 360,1300",
                          "sourceConnector": "right",
                          "target": {
                              "id": 366
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "true",
                          "id": 399,
                          "inputs": {},
                          "position": "40,1200 -170,1200 -170,1300",
                          "sourceConnector": "left",
                          "target": {
                              "id": 368
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:arcgis::SortFeatureSet",
                  "id": 366,
                  "inputs": {
                      "features": {
                          "accessors": [
                              "$populateQuery"
                          ],
                          "annotations": [
                              {
                                  "count": 14,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateQuery.features",
                          "source": "$populateQuery.features"
                      },
                      "sortAttribute": {
                          "accessors": [
                              "$populateSearchField"
                          ],
                          "annotations": [
                              {
                                  "count": 20,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateSearchField.result.field",
                          "source": "$populateSearchField.result.field"
                      }
                  },
                  "name": "sortedPopulateFeatures",
                  "position": "240,1300",
                  "title": "Sort Feature Set",
                  "transitions": [
                      {
                          "id": 405,
                          "inputs": {},
                          "position": "360,1370 360,1420",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 373
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Evaluate",
                  "id": 368,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$populateCodedValues"
                          ],
                          "annotations": [
                              {
                                  "count": 20,
                                  "index": 139,
                                  "kind": "idref"
                              }
                          ],
                          "code": "(function () {\n    function compare(a, b) {\n        if (a.name < b.name) {\n            return -1;\n        }\n        if (a.name > b.name) {\n            return 1;\n        }\n        return 0;\n    }\n    $populateCodedValues.result.sort(compare);\n})()",
                          "source": "(()=>{\nfunction compare( a, b ) {\n  if ( a.name < b.name ){\n    return -1;\n  }\n  if ( a.name > b.name  ){\n    return 1;\n  }\n  return 0;\n}\n\n$populateCodedValues.result.sort( compare );\n})()"
                      }
                  },
                  "name": "sortedPopulateCodes",
                  "position": "-290,1300",
                  "title": "Evaluate Expression",
                  "transitions": [
                      {
                          "id": 407,
                          "inputs": {},
                          "position": "-170,1370 -170,1430",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 375
                          }
                      }
                  ]
              },
              {
                  "action": "uuid:fc5de4bd-b399-4353-82ea-cbf393a350b3::GenerateWhereClause",
                  "id": 371,
                  "inputs": {
                      "layer": {
                          "accessors": [
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layer.result",
                          "source": "$layer.result"
                      },
                      "queryFields": {
                          "accessors": [
                              "$searchFields"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$searchFields.result",
                          "source": "$searchFields.result"
                      },
                      "targetForm": {
                          "accessors": [
                              "$queryForm"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$queryForm",
                          "source": "$queryForm"
                      }
                  },
                  "name": "populateWhereClause",
                  "position": "-20,330",
                  "title": "Generate Where Clause",
                  "transitions": [
                      {
                          "id": 401,
                          "inputs": {},
                          "position": "100,400 100,450",
                          "target": {
                              "id": 356
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::GetFormElementItemsFromFeatures",
                  "description": "Convert the features into form element items to be used in the element.",
                  "id": 373,
                  "inputs": {
                      "features": {
                          "accessors": [
                              "$sortedPopulateFeatures"
                          ],
                          "annotations": [
                              {
                                  "count": 23,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$sortedPopulateFeatures.features",
                          "source": "$sortedPopulateFeatures.features"
                      },
                      "labelFieldName": {
                          "accessors": [
                              "$populateSearchField"
                          ],
                          "annotations": [
                              {
                                  "count": 20,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateSearchField.result.field",
                          "source": "$populateSearchField.result.field"
                      },
                      "valueFieldName": {
                          "accessors": [
                              "$populateSearchField"
                          ],
                          "annotations": [
                              {
                                  "count": 20,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateSearchField.result.field",
                          "source": "$populateSearchField.result.field"
                      }
                  },
                  "name": "populateFeatureFormItems",
                  "position": "240,1420",
                  "title": "Get Form Element Items From Features",
                  "transitions": [
                      {
                          "id": 409,
                          "inputs": {},
                          "position": "360,1550 360,1590",
                          "target": {
                              "id": 377
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::GetFormElementItemsFromCollection",
                  "id": 375,
                  "inputs": {
                      "collection": {
                          "accessors": [
                              "$populateCodedValues"
                          ],
                          "annotations": [
                              {
                                  "count": 20,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateCodedValues.result",
                          "source": "$populateCodedValues.result"
                      },
                      "labelFieldName": "name",
                      "valueFieldName": "code"
                  },
                  "name": "populateCodedFormItems",
                  "position": "-290,1430",
                  "title": "Get Form Element Items From Collection",
                  "transitions": [
                      {
                          "id": 423,
                          "inputs": {},
                          "position": "-170,1500 -170,1570",
                          "target": {
                              "id": 389
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::SetFormElementItems",
                  "description": "",
                  "id": 377,
                  "inputs": {
                      "elementName": {
                          "accessors": [
                              "$populateEventData"
                          ],
                          "annotations": [
                              {
                                  "count": 18,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateEventData.elementId",
                          "source": "$populateEventData.elementId"
                      },
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      },
                      "items": {
                          "accessors": [
                              "$populateFeatureFormItems"
                          ],
                          "annotations": [
                              {
                                  "count": 25,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateFeatureFormItems.items",
                          "source": "$populateFeatureFormItems.items"
                      }
                  },
                  "position": "240,1590",
                  "title": "Set Form Element Items"
              },
              {
                  "action": "gcx:wf:core::Evaluate",
                  "id": 379,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$searchFields",
                              "$populateEventData"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              },
                              {
                                  "count": 18,
                                  "index": 41,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$searchFields.result.find(function (x) { return x.field === $populateEventData.elementId; })",
                          "source": "$searchFields.result.find(x=> x.field ===$populateEventData.elementId)"
                      }
                  },
                  "name": "populateSearchField",
                  "position": "-20,210",
                  "title": "Evaluate Expression",
                  "transitions": [
                      {
                          "id": 411,
                          "inputs": {},
                          "position": "100,280 100,330",
                          "target": {
                              "id": 371
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "id": 381,
                  "inputs": {},
                  "position": "10,-190",
                  "purpose": "start",
                  "title": "Subworkflow",
                  "transitions": [
                      {
                          "id": 413,
                          "inputs": {},
                          "position": "100,-130 100,-70",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 383
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::GetFormEventData",
                  "id": 383,
                  "inputs": {
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      }
                  },
                  "name": "populateEventData",
                  "position": "-20,-70",
                  "title": "Get Form Event Data",
                  "transitions": [
                      {
                          "id": 415,
                          "inputs": {},
                          "position": "100,0 100,50",
                          "target": {
                              "id": 385
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 385,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$populateEvent"
                          ],
                          "annotations": [
                              {
                                  "count": 14,
                                  "index": 2,
                                  "kind": "idref"
                              }
                          ],
                          "code": "!!$populateEvent.arguments",
                          "source": "!!$populateEvent.arguments"
                      }
                  },
                  "position": "40,50",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "false",
                          "id": 417,
                          "inputs": {},
                          "position": "160,80 180,80 180,190 100,190 100,210",
                          "sourceConnector": "right",
                          "target": {
                              "id": 379
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "true",
                          "id": 419,
                          "inputs": {},
                          "position": "40,80 -110,80 -110,110",
                          "sourceConnector": "left",
                          "target": {
                              "id": 387
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::SetProperty",
                  "id": 387,
                  "inputs": {
                      "object": {
                          "accessors": [
                              "$populateEventData"
                          ],
                          "annotations": [
                              {
                                  "count": 18,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateEventData",
                          "source": "$populateEventData "
                      },
                      "propertyName": "elementId",
                      "propertyValue": {
                          "accessors": [
                              "$populateEvent"
                          ],
                          "annotations": [
                              {
                                  "count": 14,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateEvent.arguments.elementId",
                          "source": "$populateEvent.arguments.elementId"
                      }
                  },
                  "position": "-230,110",
                  "title": "Set Property",
                  "transitions": [
                      {
                          "id": 421,
                          "inputs": {},
                          "position": "-110,140 -110,190 100,190 100,210",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 379
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::SetFormElementItems",
                  "id": 389,
                  "inputs": {
                      "elementName": {
                          "accessors": [
                              "$populateEventData"
                          ],
                          "annotations": [
                              {
                                  "count": 18,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateEventData.elementId",
                          "source": "$populateEventData.elementId"
                      },
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      },
                      "items": {
                          "accessors": [
                              "$populateCodedFormItems"
                          ],
                          "annotations": [
                              {
                                  "count": 23,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$populateCodedFormItems.items",
                          "source": "$populateCodedFormItems.items"
                      }
                  },
                  "position": "-290,1570",
                  "title": "Set Form Element Items"
              }
          ]
      },
      {
          "id": 425,
          "steps": [
              {
                  "action": "uuid:fc5de4bd-b399-4353-82ea-cbf393a350b3::GenerateWhereClause",
                  "id": 427,
                  "inputs": {
                      "layer": {
                          "accessors": [
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layer.result",
                          "source": "$layer.result"
                      },
                      "queryFields": {
                          "accessors": [
                              "$searchFields"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$searchFields.result",
                          "source": "$searchFields.result"
                      },
                      "targetForm": {
                          "accessors": [
                              "$queryForm"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$queryForm",
                          "source": "$queryForm"
                      }
                  },
                  "name": "finalWhereClause",
                  "position": "-30,-130",
                  "title": "Generate Where Clause",
                  "transitions": [
                      {
                          "id": 449,
                          "inputs": {},
                          "position": "90,-60 90,-20",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 429
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:arcgis:query:QueryTask",
                  "id": 429,
                  "inputs": {
                      "outFields": "*",
                      "returnGeometry": true,
                      "url": {
                          "accessors": [
                              "$layerUrl"
                          ],
                          "annotations": [
                              {
                                  "count": 9,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layerUrl.result",
                          "source": "$layerUrl.result"
                      },
                      "where": {
                          "accessors": [
                              "$finalWhereClause"
                          ],
                          "annotations": [
                              {
                                  "count": 17,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$finalWhereClause.result",
                          "source": "$finalWhereClause.result"
                      }
                  },
                  "name": "layerQuery",
                  "position": "-30,-20",
                  "title": "Query Layer",
                  "transitions": [
                      {
                          "id": 451,
                          "inputs": {},
                          "position": "90,50 90,110",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 431
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 431,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$layerQuery"
                          ],
                          "annotations": [
                              {
                                  "count": 11,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layerQuery.features.length > 0",
                          "source": "$layerQuery.features.length > 0"
                      }
                  },
                  "position": "30,110",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "true",
                          "id": 453,
                          "inputs": {},
                          "position": "30,140 10,140 10,260 90,260 90,280",
                          "sourceConnector": "left",
                          "target": {
                              "id": 433
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "false",
                          "id": 455,
                          "inputs": {},
                          "position": "150,140 460,140 460,270",
                          "sourceConnector": "right",
                          "target": {
                              "id": 435
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:app::RunOperation",
                  "id": 433,
                  "inputs": {
                      "operationName": "results.from-graphics",
                      "operationParameter": {
                          "accessors": [
                              "$layerQuery",
                              "$layer",
                              "$mapInfo"
                          ],
                          "annotations": [
                              {
                                  "count": 11,
                                  "index": 11,
                                  "kind": "idref"
                              },
                              {
                                  "count": 6,
                                  "index": 39,
                                  "kind": "idref"
                              },
                              {
                                  "count": 8,
                                  "index": 61,
                                  "kind": "idref"
                              }
                          ],
                          "code": "{ graphics: $layerQuery.features, layer: $layer.result, maps: [$mapInfo.map.mapExtension] }",
                          "source": "{graphics: $layerQuery.features, layer:$layer.result, maps: [$mapInfo.map.mapExtension]}"
                      }
                  },
                  "name": "resultSet",
                  "position": "-30,280",
                  "title": "Get VertiGIS Features",
                  "transitions": [
                      {
                          "id": 457,
                          "inputs": {},
                          "position": "90,350 90,400",
                          "target": {
                              "id": 437
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::SetProperty",
                  "id": 435,
                  "inputs": {
                      "object": {
                          "accessors": [
                              "$noResults"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$noResults",
                          "source": "$noResults"
                      },
                      "propertyName": "result",
                      "propertyValue": true
                  },
                  "position": "340,270",
                  "title": "Set noResults to true"
              },
              {
                  "action": "gcx:wf:core::AddItems",
                  "id": 437,
                  "inputs": {
                      "collection": {
                          "accessors": [
                              "$resultSet"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$resultSet.result",
                          "source": "$resultSet.result"
                      },
                      "itemsToAdd": {
                          "accessors": [
                              "$resultSet"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$resultSet.result",
                          "source": "$resultSet.result"
                      }
                  },
                  "position": "-30,400",
                  "title": "Add Items",
                  "transitions": [
                      {
                          "id": 459,
                          "inputs": {},
                          "position": "90,430 90,480",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 439
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:app::RunCommand",
                  "id": 439,
                  "inputs": {
                      "commandName": "map.go-to-geometry",
                      "commandParameter": {
                          "accessors": [
                              "$resultSet"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$resultSet.result",
                          "source": "$resultSet.result"
                      }
                  },
                  "position": "-30,480",
                  "title": "Zoom to Features",
                  "transitions": [
                      {
                          "id": 461,
                          "inputs": {},
                          "position": "90,510 90,560",
                          "target": {
                              "id": 441
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::SetProperty",
                  "id": 441,
                  "inputs": {
                      "object": {
                          "accessors": [
                              "$noResults"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$noResults",
                          "source": "$noResults"
                      },
                      "propertyName": "result",
                      "propertyValue": false
                  },
                  "position": "-30,560",
                  "title": "Set noResults to false",
                  "transitions": [
                      {
                          "id": 463,
                          "inputs": {},
                          "position": "90,590 90,630",
                          "target": {
                              "id": 443
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:app::RunCommand",
                  "id": 443,
                  "inputs": {
                      "commandName": "results.display",
                      "commandParameter": {
                          "accessors": [
                              "$resultSet"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$resultSet.result",
                          "source": "$resultSet.result"
                      }
                  },
                  "position": "-30,630",
                  "title": "Display results",
                  "transitions": [
                      {
                          "id": 465,
                          "inputs": {},
                          "position": "90,660 90,710",
                          "target": {
                              "id": 445
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::SetWorkflowOutput",
                  "id": 445,
                  "inputs": {
                      "name": "queryResult",
                      "value": {
                          "accessors": [
                              "$resultSet"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$resultSet.result",
                          "source": "$resultSet.result"
                      }
                  },
                  "position": "-30,710",
                  "title": "Set Workflow Output"
              },
              {
                  "id": 447,
                  "inputs": {},
                  "position": "0,-240",
                  "purpose": "start",
                  "title": "Container",
                  "transitions": [
                      {
                          "id": 467,
                          "inputs": {},
                          "position": "90,-180 90,-130",
                          "target": {
                              "id": 427
                          }
                      }
                  ]
              }
          ]
      },
      {
          "id": 469,
          "steps": [
              {
                  "id": 471,
                  "inputs": {},
                  "position": "0,0",
                  "purpose": "start",
                  "title": "Subworkflow",
                  "transitions": [
                      {
                          "id": 485,
                          "inputs": {},
                          "position": "90,60 90,150",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 473
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::GetFormEventData",
                  "id": 473,
                  "inputs": {
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      }
                  },
                  "name": "validateEventData",
                  "position": "-30,150",
                  "title": "Get Form Event Data",
                  "transitions": [
                      {
                          "id": 487,
                          "inputs": {},
                          "position": "90,220 90,270",
                          "target": {
                              "id": 475
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Log",
                  "id": 475,
                  "inputs": {
                      "message": {
                          "accessors": [],
                          "code": "\"Validae Event\"",
                          "source": "\"Validae Event\""
                      }
                  },
                  "position": "-30,270",
                  "title": "Log",
                  "transitions": [
                      {
                          "id": 489,
                          "inputs": {},
                          "position": "90,300 90,350",
                          "target": {
                              "id": 477
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Log",
                  "id": 477,
                  "inputs": {
                      "message": {
                          "accessors": [
                              "$validateEventData"
                          ],
                          "annotations": [
                              {
                                  "count": 18,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$validateEventData",
                          "source": "$validateEventData"
                      }
                  },
                  "position": "-30,350",
                  "title": "Log",
                  "transitions": [
                      {
                          "id": 491,
                          "inputs": {},
                          "position": "90,380 90,430",
                          "target": {
                              "id": 479
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 479,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$hasSubWorkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 15,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$hasSubWorkflow.result",
                          "source": "$hasSubWorkflow.result"
                      }
                  },
                  "position": "30,430",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "false",
                          "id": 495,
                          "inputs": {},
                          "position": "150,460 170,460 170,790 100,790 100,810",
                          "sourceConnector": "right",
                          "target": {
                              "id": 483
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "true",
                          "id": 497,
                          "inputs": {},
                          "position": "30,460 -90,460 -90,600",
                          "sourceConnector": "left",
                          "target": {
                              "id": 481
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::RunWorkflow",
                  "id": 481,
                  "inputs": {
                      "arguments": {
                          "accessors": [
                              "$searchFields",
                              "$changedEventData",
                              "$queryForm"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 14,
                                  "kind": "idref"
                              },
                              {
                                  "count": 17,
                                  "index": 46,
                                  "kind": "idref"
                              },
                              {
                                  "count": 10,
                                  "index": 75,
                                  "kind": "idref"
                              }
                          ],
                          "code": "{ searchFields: $searchFields.result, eventData: $changedEventData, formState: $queryForm.state, type: \"validate\" }",
                          "source": "{searchFields:$searchFields.result, eventData:$changedEventData, formState:$queryForm.state, type: \"validate\"}"
                      },
                      "url": {
                          "accessors": [
                              "$eventSubWorkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 17,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$eventSubWorkflow.result",
                          "source": "$eventSubWorkflow.result"
                      }
                  },
                  "name": "runValidateSubWorkflow",
                  "position": "-210,600",
                  "title": "Run Workflow",
                  "transitions": [
                      {
                          "id": 493,
                          "inputs": {},
                          "position": "-90,670 -90,790 100,790 100,810",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 483
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::PropagateFormEvent",
                  "id": 483,
                  "inputs": {
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      }
                  },
                  "position": "-20,810",
                  "title": "Propagate Form Event"
              }
          ]
      },
      {
          "id": 499,
          "steps": [
              {
                  "id": 501,
                  "inputs": {},
                  "position": "0,0",
                  "purpose": "start",
                  "title": "Subworkflow",
                  "transitions": [
                      {
                          "id": 515,
                          "inputs": {},
                          "position": "90,60 90,130",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 503
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::GetFormEventData",
                  "id": 503,
                  "inputs": {
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      }
                  },
                  "name": "clickedEventData",
                  "position": "-30,130",
                  "title": "Get Form Event Data",
                  "transitions": [
                      {
                          "id": 517,
                          "inputs": {},
                          "position": "90,200 90,250",
                          "target": {
                              "id": 505
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Log",
                  "id": 505,
                  "inputs": {
                      "message": {
                          "accessors": [],
                          "code": "\"Clicked Event\"",
                          "source": "\"Clicked Event\""
                      }
                  },
                  "position": "-30,250",
                  "title": "Log",
                  "transitions": [
                      {
                          "id": 519,
                          "inputs": {},
                          "position": "90,280 90,330",
                          "target": {
                              "id": 507
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Log",
                  "id": 507,
                  "inputs": {
                      "message": {
                          "accessors": [
                              "$clickedEventData"
                          ],
                          "annotations": [
                              {
                                  "count": 17,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$clickedEventData",
                          "source": "$clickedEventData"
                      }
                  },
                  "position": "-30,330",
                  "title": "Log",
                  "transitions": [
                      {
                          "id": 521,
                          "inputs": {},
                          "position": "90,360 90,410",
                          "target": {
                              "id": 509
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 509,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$hasSubWorkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 15,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$hasSubWorkflow.result",
                          "source": "$hasSubWorkflow.result"
                      }
                  },
                  "position": "30,410",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "false",
                          "id": 525,
                          "inputs": {},
                          "position": "150,440 170,440 170,770 100,770 100,790",
                          "sourceConnector": "right",
                          "target": {
                              "id": 513
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "true",
                          "id": 527,
                          "inputs": {},
                          "position": "30,440 -140,440 -140,540",
                          "sourceConnector": "left",
                          "target": {
                              "id": 511
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::RunWorkflow",
                  "id": 511,
                  "inputs": {
                      "arguments": {
                          "accessors": [
                              "$searchFields",
                              "$changedEventData",
                              "$queryForm"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 14,
                                  "kind": "idref"
                              },
                              {
                                  "count": 17,
                                  "index": 46,
                                  "kind": "idref"
                              },
                              {
                                  "count": 10,
                                  "index": 75,
                                  "kind": "idref"
                              }
                          ],
                          "code": "{ searchFields: $searchFields.result, eventData: $changedEventData, formState: $queryForm.state, type: \"clicked\" }",
                          "source": "{searchFields:$searchFields.result, eventData:$changedEventData, formState:$queryForm.state, type: \"clicked\"}"
                      },
                      "url": {
                          "accessors": [
                              "$eventSubWorkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 17,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$eventSubWorkflow.result",
                          "source": "$eventSubWorkflow.result"
                      }
                  },
                  "name": "runClickedSubWorkflow",
                  "position": "-260,540",
                  "title": "Run Workflow",
                  "transitions": [
                      {
                          "id": 523,
                          "inputs": {},
                          "position": "-140,610 -140,770 100,770 100,790",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 513
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::PropagateFormEvent",
                  "id": 513,
                  "inputs": {
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      }
                  },
                  "position": "-20,790",
                  "title": "Propagate Form Event"
              }
          ]
      },
      {
          "id": 529,
          "steps": [
              {
                  "id": 531,
                  "inputs": {},
                  "position": "0,0",
                  "purpose": "start",
                  "title": "Subworkflow",
                  "transitions": [
                      {
                          "id": 545,
                          "inputs": {},
                          "position": "90,60 90,110",
                          "target": {
                              "id": 533
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::GetFormEventData",
                  "id": 533,
                  "inputs": {
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      }
                  },
                  "name": "changedEventData",
                  "position": "-30,110",
                  "title": "Get Form Event Data",
                  "transitions": [
                      {
                          "id": 547,
                          "inputs": {},
                          "position": "90,180 90,230",
                          "target": {
                              "id": 535
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Log",
                  "id": 535,
                  "inputs": {
                      "message": {
                          "accessors": [],
                          "code": "\"Changed Event\"",
                          "source": "\"Changed Event\""
                      }
                  },
                  "position": "-30,230",
                  "title": "Log",
                  "transitions": [
                      {
                          "id": 549,
                          "inputs": {},
                          "position": "90,260 90,310",
                          "target": {
                              "id": 537
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Log",
                  "id": 537,
                  "inputs": {
                      "message": {
                          "accessors": [
                              "$changedEventData"
                          ],
                          "annotations": [
                              {
                                  "count": 17,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$changedEventData",
                          "source": "$changedEventData"
                      }
                  },
                  "position": "-30,310",
                  "title": "Log",
                  "transitions": [
                      {
                          "id": 551,
                          "inputs": {},
                          "position": "90,340 90,390",
                          "target": {
                              "id": 539
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 539,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$hasSubWorkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 15,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$hasSubWorkflow.result",
                          "source": "$hasSubWorkflow.result"
                      }
                  },
                  "position": "30,390",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "false",
                          "id": 553,
                          "inputs": {},
                          "position": "150,420 170,420 170,680 50,680 50,700",
                          "sourceConnector": "right",
                          "target": {
                              "id": 541
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "true",
                          "id": 555,
                          "inputs": {},
                          "position": "30,420 -90,420 -90,560",
                          "sourceConnector": "left",
                          "target": {
                              "id": 543
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::PropagateFormEvent",
                  "id": 541,
                  "inputs": {
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      }
                  },
                  "position": "-70,700",
                  "title": "Propagate Form Event"
              },
              {
                  "action": "gcx:wf:core::RunWorkflow",
                  "id": 543,
                  "inputs": {
                      "arguments": {
                          "accessors": [
                              "$searchFields",
                              "$changedEventData",
                              "$queryForm"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 14,
                                  "kind": "idref"
                              },
                              {
                                  "count": 17,
                                  "index": 46,
                                  "kind": "idref"
                              },
                              {
                                  "count": 10,
                                  "index": 75,
                                  "kind": "idref"
                              }
                          ],
                          "code": "{ searchFields: $searchFields.result, eventData: $changedEventData, formState: $queryForm.state, type: \"changed\" }",
                          "source": "{searchFields:$searchFields.result, eventData:$changedEventData, formState:$queryForm.state, type: \"changed\"}"
                      },
                      "url": {
                          "accessors": [
                              "$eventSubWorkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 17,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$eventSubWorkflow.result",
                          "source": "$eventSubWorkflow.result"
                      }
                  },
                  "name": "runChangedSubWorkflow",
                  "position": "-210,560",
                  "title": "Run Workflow",
                  "transitions": [
                      {
                          "id": 557,
                          "inputs": {},
                          "position": "-90,630 -90,680 50,680 50,700",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 541
                          },
                          "targetConnector": "top"
                      }
                  ]
              }
          ]
      },
      {
          "id": 559,
          "steps": [
              {
                  "action": "uuid:fc5de4bd-b399-4353-82ea-cbf393a350b3::AddQueryElements",
                  "id": 561,
                  "inputs": {
                      "description": {
                          "accessors": [
                              "$formDescription"
                          ],
                          "annotations": [
                              {
                                  "count": 16,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$formDescription.result",
                          "source": "$formDescription.result"
                      },
                      "form": {
                          "accessors": [
                              "$queryForm"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$queryForm",
                          "source": "$queryForm"
                      },
                      "layer": {
                          "accessors": [
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layer.result",
                          "source": "$layer.result"
                      },
                      "searchFields": {
                          "accessors": [
                              "$searchFields"
                          ],
                          "annotations": [
                              {
                                  "count": 13,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$searchFields.result",
                          "source": "$searchFields.result"
                      },
                      "title": {
                          "accessors": [
                              "$formTitle"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$formTitle.result",
                          "source": "$formTitle.result"
                      }
                  },
                  "name": "addConfigurableQueryElements2",
                  "position": "-30,110",
                  "title": "Add Configurable Query Elements"
              },
              {
                  "id": 563,
                  "inputs": {},
                  "position": "0,0",
                  "purpose": "start",
                  "title": "Event",
                  "transitions": [
                      {
                          "id": 565,
                          "inputs": {},
                          "position": "90,60 90,110",
                          "target": {
                              "id": 561
                          }
                      }
                  ]
              }
          ],
          "title": "load-header"
      },
      {
          "id": 567,
          "steps": [
              {
                  "id": 569,
                  "inputs": {},
                  "position": "0,0",
                  "purpose": "start",
                  "title": "Event",
                  "transitions": [
                      {
                          "id": 577,
                          "inputs": {},
                          "position": "90,60 90,110",
                          "target": {
                              "id": 571
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 571,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$noResults"
                          ],
                          "annotations": [
                              {
                                  "count": 10,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$noResults.result",
                          "source": "$noResults.result"
                      }
                  },
                  "position": "30,110",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "true",
                          "id": 579,
                          "inputs": {},
                          "position": "30,140 -220,140 -220,250",
                          "target": {
                              "id": 573
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "false",
                          "id": 581,
                          "inputs": {},
                          "position": "150,140 360,140 360,270",
                          "sourceConnector": "right",
                          "target": {
                              "id": 575
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:forms::SetFormElementError",
                  "id": 573,
                  "inputs": {
                      "error": {
                          "accessors": [
                              "getText"
                          ],
                          "code": "getText(values.key)",
                          "source": "@queryForm-error-no-results",
                          "values": {
                              "key": "@queryForm-error-no-results"
                          }
                      },
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      }
                  },
                  "position": "-340,250",
                  "title": "Set Form Element Error"
              },
              {
                  "action": "gcx:wf:forms::ClearFormElementError",
                  "id": 575,
                  "inputs": {
                      "form": {
                          "accessors": [
                              "$$form"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$$form",
                          "source": "$$form"
                      }
                  },
                  "position": "240,270",
                  "title": "Clear Form Element Error"
              }
          ],
          "title": "load-footer"
      },
      {
          "id": 583,
          "steps": [
              {
                  "id": 585,
                  "inputs": {},
                  "position": "0,0",
                  "purpose": "start",
                  "title": "Subworkflow",
                  "transitions": [
                      {
                          "id": 601,
                          "inputs": {},
                          "position": "90,60 90,110",
                          "target": {
                              "id": 587
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 587,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$generateQueryFields"
                          ],
                          "annotations": [
                              {
                                  "count": 20,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$generateQueryFields.arguments[\"field\"]",
                          "source": "$generateQueryFields.arguments[\"field\"]"
                      }
                  },
                  "name": "targetField",
                  "position": "-30,110",
                  "title": "Create Value",
                  "transitions": [
                      {
                          "id": 603,
                          "inputs": {},
                          "position": "90,180 90,230",
                          "target": {
                              "id": 589
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 589,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$targetField"
                          ],
                          "annotations": [
                              {
                                  "count": 12,
                                  "index": 1,
                                  "kind": "idref"
                              }
                          ],
                          "code": "[$targetField.result]",
                          "source": "[$targetField.result]"
                      }
                  },
                  "name": "fieldsArray",
                  "position": "-30,230",
                  "title": "Create Value",
                  "transitions": [
                      {
                          "id": 615,
                          "inputs": {},
                          "position": "90,300 90,350",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 591
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 591,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 2,
                                  "kind": "idref"
                              }
                          ],
                          "code": "!!$layer.result.subtypeField",
                          "source": "!!$layer.result.subtypeField"
                      }
                  },
                  "position": "30,350",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "true",
                          "id": 605,
                          "inputs": {},
                          "position": "30,380 -130,380 -130,500",
                          "sourceConnector": "left",
                          "target": {
                              "id": 593
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "false",
                          "id": 607,
                          "inputs": {},
                          "position": "150,380 240,380 240,460",
                          "sourceConnector": "right",
                          "target": {
                              "id": 595
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::AddItem",
                  "id": 593,
                  "inputs": {
                      "collection": {
                          "accessors": [
                              "$fieldsArray"
                          ],
                          "annotations": [
                              {
                                  "count": 12,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$fieldsArray.result",
                          "source": "$fieldsArray.result"
                      },
                      "item": {
                          "accessors": [
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layer.result.subtypeField",
                          "source": "$layer.result.subtypeField"
                      }
                  },
                  "position": "-250,500",
                  "title": "Add Item",
                  "transitions": [
                      {
                          "id": 609,
                          "inputs": {},
                          "position": "-130,530 -130,730 140,730 140,750",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 597
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 595,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$layer",
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 2,
                                  "kind": "idref"
                              },
                              {
                                  "count": 6,
                                  "index": 28,
                                  "kind": "idref"
                              }
                          ],
                          "code": "!!$layer.result.parent && !!$layer.result.parent.subtypeField",
                          "source": "!!$layer.result.parent && !!$layer.result.parent.subtypeField"
                      }
                  },
                  "position": "180,460",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "true",
                          "id": 611,
                          "inputs": {},
                          "position": "180,490 140,490 140,600",
                          "sourceConnector": "left",
                          "target": {
                              "id": 599
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "false",
                          "id": 613,
                          "inputs": {},
                          "position": "300,490 320,490 320,730 140,730 140,750",
                          "sourceConnector": "right",
                          "target": {
                              "id": 597
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Evaluate",
                  "id": 597,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$generateQueryFields",
                              "$fieldsArray"
                          ],
                          "annotations": [
                              {
                                  "count": 20,
                                  "index": 0,
                                  "kind": "idref"
                              },
                              {
                                  "count": 12,
                                  "index": 40,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$generateQueryFields.setResult({ fields: $fieldsArray.result })",
                          "source": "$generateQueryFields.setResult({fields: $fieldsArray.result})"
                      }
                  },
                  "name": "setFieldsOutput",
                  "position": "20,750",
                  "title": "Evaluate Expression"
              },
              {
                  "action": "gcx:wf:core::AddItem",
                  "id": 599,
                  "inputs": {
                      "collection": {
                          "accessors": [
                              "$fieldsArray"
                          ],
                          "annotations": [
                              {
                                  "count": 12,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$fieldsArray.result",
                          "source": "$fieldsArray.result"
                      },
                      "item": {
                          "accessors": [
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layer.result.parent.subtypeField",
                          "source": "$layer.result.parent.subtypeField"
                      }
                  },
                  "position": "20,600",
                  "title": "Add Item",
                  "transitions": [
                      {
                          "id": 617,
                          "inputs": {},
                          "position": "140,630 140,750",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 597
                          },
                          "targetConnector": "top"
                      }
                  ]
              }
          ]
      },
      {
          "id": 619,
          "steps": [
              {
                  "action": "gcx:wf:core::If",
                  "id": 621,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layer.result.type === \"subtype-sublayer\"",
                          "source": "$layer.result.type === \"subtype-sublayer\""
                      }
                  },
                  "position": "30,810",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "true",
                          "id": 643,
                          "inputs": {},
                          "position": "30,840 -190,840 -190,1060",
                          "sourceConnector": "left",
                          "target": {
                              "id": 623
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "false",
                          "id": 645,
                          "inputs": {},
                          "position": "150,840 220,840 220,1060",
                          "sourceConnector": "right",
                          "target": {
                              "id": 625
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Evaluate",
                  "id": 623,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$layerUrl",
                              "$layer",
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 9,
                                  "index": 0,
                                  "kind": "idref"
                              },
                              {
                                  "count": 6,
                                  "index": 22,
                                  "kind": "idref"
                              },
                              {
                                  "count": 6,
                                  "index": 50,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layerUrl.result = \"\".concat($layer.result.parent.url, \"/\").concat($layer.result.parent.layerId)",
                          "source": "$layerUrl.result = `${$layer.result.parent.url}/${$layer.result.parent.layerId}`"
                      }
                  },
                  "name": "subtypeCase",
                  "position": "-310,1060",
                  "title": "Evaluate Expression"
              },
              {
                  "action": "gcx:wf:core::Evaluate",
                  "id": 625,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$layerUrl",
                              "$layer",
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 9,
                                  "index": 0,
                                  "kind": "idref"
                              },
                              {
                                  "count": 6,
                                  "index": 22,
                                  "kind": "idref"
                              },
                              {
                                  "count": 6,
                                  "index": 43,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layerUrl.result = \"\".concat($layer.result.url, \"/\").concat($layer.result.layerId)",
                          "source": "$layerUrl.result = `${$layer.result.url}/${$layer.result.layerId}`"
                      }
                  },
                  "name": "others",
                  "position": "100,1060",
                  "title": "Evaluate Expression"
              },
              {
                  "id": 627,
                  "inputs": {},
                  "position": "0,0",
                  "purpose": "start",
                  "title": "Container",
                  "transitions": [
                      {
                          "id": 647,
                          "inputs": {},
                          "position": "90,60 90,110",
                          "target": {
                              "id": 629
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:arcgis::GetLayer",
                  "id": 629,
                  "inputs": {
                      "layerId": {
                          "accessors": [
                              "$layerId"
                          ],
                          "annotations": [
                              {
                                  "count": 8,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layerId.result",
                          "source": "$layerId.result"
                      }
                  },
                  "name": "targetLayer",
                  "position": "-30,110",
                  "title": "Get Layer",
                  "transitions": [
                      {
                          "id": 649,
                          "inputs": {},
                          "position": "90,180 90,230",
                          "target": {
                              "id": 631
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 631,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$targetLayer"
                          ],
                          "annotations": [
                              {
                                  "count": 12,
                                  "index": 1,
                                  "kind": "idref"
                              }
                          ],
                          "code": "!$targetLayer.layer",
                          "source": "!$targetLayer.layer"
                      }
                  },
                  "position": "30,230",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "true",
                          "id": 651,
                          "inputs": {},
                          "position": "30,260 -40,260 -40,340",
                          "sourceConnector": "left",
                          "target": {
                              "id": 633
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "false",
                          "id": 653,
                          "inputs": {},
                          "position": "150,260 220,260 220,340",
                          "sourceConnector": "right",
                          "target": {
                              "id": 635
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Evaluate",
                  "description": "If the layer isn't found then search the map by layer title and layer ID",
                  "id": 633,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$mapInfo",
                              "$layerId",
                              "$mapInfo",
                              "$layerId",
                              "$layerId"
                          ],
                          "annotations": [
                              {
                                  "count": 8,
                                  "index": 27,
                                  "kind": "idref"
                              },
                              {
                                  "count": 8,
                                  "index": 75,
                                  "kind": "idref"
                              },
                              {
                                  "count": 8,
                                  "index": 138,
                                  "kind": "idref"
                              },
                              {
                                  "count": 8,
                                  "index": 277,
                                  "kind": "idref"
                              },
                              {
                                  "count": 8,
                                  "index": 379,
                                  "kind": "idref"
                              }
                          ],
                          "code": "(function () {\n    var layer = $mapInfo.map.map.allLayers.find(function (x) { return x.title === $layerId.result; });\n    if (layer == undefined) {\n        for (var _i = 0, _a = $mapInfo.map.map.allLayers.items; _i < _a.length; _i++) {\n            var l = _a[_i];\n            if (l.type === \"subtype-group\") {\n                var found = l.sublayers.items.some(function (x) { return x.title === $layerId.result; });\n                if (found) {\n                    layer = l.sublayers.items.find(function (x) { return x.title === $layerId.result; });\n                    ;\n                }\n            }\n        }\n    }\n    return layer;\n})()",
                          "source": "(function(){\n  var layer = $mapInfo.map.map.allLayers.find(x=> x.title === $layerId.result);\n  if(layer == undefined) {\n     for(var l of $mapInfo.map.map.allLayers.items) {\n        if(l.type === \"subtype-group\") {\n           var found = l.sublayers.items.some(x=> x.title === $layerId.result);\n           if(found) {\n              layer = l.sublayers.items.find(x=> x.title === $layerId.result);;\n           }\n\n\n        }\n      }\n  }\n\n  return layer;\n})()"
                      }
                  },
                  "name": "findLayerFunction",
                  "position": "-160,340",
                  "title": "Find layer function",
                  "transitions": [
                      {
                          "id": 655,
                          "inputs": {},
                          "position": "-40,470 -40,510",
                          "target": {
                              "id": 637
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::SetProperty",
                  "id": 635,
                  "inputs": {
                      "object": {
                          "accessors": [
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layer",
                          "source": "$layer"
                      },
                      "propertyName": "result",
                      "propertyValue": {
                          "accessors": [
                              "$targetLayer"
                          ],
                          "annotations": [
                              {
                                  "count": 12,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$targetLayer.layer",
                          "source": "$targetLayer.layer"
                      }
                  },
                  "position": "100,340",
                  "title": "Set Property",
                  "transitions": [
                      {
                          "id": 657,
                          "inputs": {},
                          "position": "220,370 220,790 90,790 90,810",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 621
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::If",
                  "id": 637,
                  "inputs": {
                      "condition": {
                          "accessors": [
                              "$findLayerFunction"
                          ],
                          "annotations": [
                              {
                                  "count": 18,
                                  "index": 2,
                                  "kind": "idref"
                              }
                          ],
                          "code": "!!$findLayerFunction.result",
                          "source": "!!$findLayerFunction.result"
                      }
                  },
                  "position": "-100,510",
                  "title": "If",
                  "transitions": [
                      {
                          "branch": "true",
                          "id": 659,
                          "inputs": {},
                          "position": "-100,540 -190,540 -190,660",
                          "sourceConnector": "left",
                          "target": {
                              "id": 639
                          },
                          "targetConnector": "top"
                      },
                      {
                          "branch": "false",
                          "id": 661,
                          "inputs": {},
                          "position": "20,540 70,540 70,660",
                          "sourceConnector": "right",
                          "target": {
                              "id": 641
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::SetProperty",
                  "id": 639,
                  "inputs": {
                      "object": {
                          "accessors": [
                              "$layer"
                          ],
                          "annotations": [
                              {
                                  "count": 6,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$layer",
                          "source": "$layer"
                      },
                      "propertyName": "result",
                      "propertyValue": {
                          "accessors": [
                              "$findLayerFunction"
                          ],
                          "annotations": [
                              {
                                  "count": 18,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$findLayerFunction.result",
                          "source": "$findLayerFunction.result"
                      }
                  },
                  "position": "-310,660",
                  "title": "Set Property",
                  "transitions": [
                      {
                          "id": 663,
                          "inputs": {},
                          "position": "-190,690 -190,790 90,790 90,810",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 621
                          },
                          "targetConnector": "top"
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::Throw",
                  "id": 641,
                  "inputs": {
                      "message": {
                          "accessors": [
                              "getText"
                          ],
                          "code": "getText(values.key)",
                          "source": "@exception-layer-not-found",
                          "values": {
                              "key": "@exception-layer-not-found"
                          }
                      }
                  },
                  "position": "-50,660",
                  "title": "Throw"
              }
          ]
      },
      {
          "id": 665,
          "steps": [
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 667,
                  "inputs": {},
                  "name": "layerUrl",
                  "position": "580,220",
                  "title": "Create Value",
                  "transitions": [
                      {
                          "id": 711,
                          "inputs": {},
                          "position": "700,290 700,340",
                          "target": {
                              "id": 679
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 669,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$workflowInputs"
                          ],
                          "annotations": [
                              {
                                  "count": 15,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$workflowInputs.inputs.layerId",
                          "source": "$workflowInputs.inputs.layerId"
                      }
                  },
                  "name": "layerId",
                  "position": "880,220",
                  "title": "Create Value"
              },
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 671,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$workflowInputs"
                          ],
                          "annotations": [
                              {
                                  "count": 15,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$workflowInputs.inputs.searchFields",
                          "source": "$workflowInputs.inputs.searchFields"
                      }
                  },
                  "name": "searchFields",
                  "position": "-30,220",
                  "title": "Create Value",
                  "transitions": [
                      {
                          "id": 691,
                          "inputs": {},
                          "position": "90,290 90,340",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 673
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:arcgis::GetMap",
                  "id": 673,
                  "inputs": {},
                  "name": "mapInfo",
                  "position": "-30,340",
                  "title": "Get Map",
                  "transitions": [
                      {
                          "id": 703,
                          "inputs": {},
                          "position": "210,375 270,375 270,135 290,135",
                          "target": {
                              "id": 687
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 675,
                  "inputs": {
                      "expression": {
                          "accessors": [],
                          "code": "false",
                          "source": "false"
                      }
                  },
                  "name": "noResults",
                  "position": "290,220",
                  "title": "Create Value",
                  "transitions": [
                      {
                          "id": 693,
                          "inputs": {},
                          "position": "410,290 410,340",
                          "target": {
                              "id": 677
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 677,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$workflowInputs"
                          ],
                          "annotations": [
                              {
                                  "count": 15,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$workflowInputs.inputs.eventSubWorkflow",
                          "source": "$workflowInputs.inputs.eventSubWorkflow"
                      }
                  },
                  "name": "eventSubWorkflow",
                  "position": "290,340",
                  "title": "Create Value",
                  "transitions": [
                      {
                          "id": 707,
                          "inputs": {},
                          "position": "530,375 560,375 560,135 580,135",
                          "target": {
                              "id": 689
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 679,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$workflowInputs"
                          ],
                          "annotations": [
                              {
                                  "count": 15,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$workflowInputs.inputs.formTitle",
                          "source": "$workflowInputs.inputs.formTitle"
                      }
                  },
                  "name": "formTitle",
                  "position": "580,340",
                  "title": "Create Value",
                  "transitions": [
                      {
                          "id": 695,
                          "inputs": {},
                          "position": "700,410 700,430 860,430 860,135 880,135",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 681
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 681,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$workflowInputs"
                          ],
                          "annotations": [
                              {
                                  "count": 15,
                                  "index": 0,
                                  "kind": "idref"
                              }
                          ],
                          "code": "$workflowInputs.inputs.formDescription",
                          "source": "$workflowInputs.inputs.formDescription"
                      }
                  },
                  "name": "formDescription",
                  "position": "880,100",
                  "title": "Create Value",
                  "transitions": [
                      {
                          "id": 697,
                          "inputs": {},
                          "position": "1000,170 1000,220",
                          "target": {
                              "id": 669
                          }
                      }
                  ]
              },
              {
                  "id": 683,
                  "inputs": {},
                  "position": "0,0",
                  "purpose": "start",
                  "title": "Container",
                  "transitions": [
                      {
                          "id": 699,
                          "inputs": {},
                          "position": "90,60 90,100",
                          "sourceConnector": "bottom",
                          "target": {
                              "id": 685
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::GetWorkflowInputs",
                  "id": 685,
                  "inputs": {},
                  "name": "workflowInputs",
                  "position": "-30,100",
                  "title": "Get Workflow Inputs",
                  "transitions": [
                      {
                          "id": 701,
                          "inputs": {},
                          "position": "90,170 90,220",
                          "target": {
                              "id": 671
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 687,
                  "inputs": {},
                  "name": "layer",
                  "position": "290,100",
                  "title": "Create Value",
                  "transitions": [
                      {
                          "id": 705,
                          "inputs": {},
                          "position": "410,170 410,220",
                          "target": {
                              "id": 675
                          }
                      }
                  ]
              },
              {
                  "action": "gcx:wf:core::CreateValue",
                  "id": 689,
                  "inputs": {
                      "expression": {
                          "accessors": [
                              "$eventSubWorkflow"
                          ],
                          "annotations": [
                              {
                                  "count": 17,
                                  "index": 2,
                                  "kind": "idref"
                              }
                          ],
                          "code": "!!$eventSubWorkflow.result",
                          "source": "!!$eventSubWorkflow.result"
                      }
                  },
                  "name": "hasSubWorkflow",
                  "position": "580,100",
                  "title": "Create Value",
                  "transitions": [
                      {
                          "id": 709,
                          "inputs": {},
                          "position": "700,170 700,220",
                          "target": {
                              "id": 667
                          }
                      }
                  ]
              }
          ]
      }
  ],
  "deploymentConfig": {
      "supportedApps": {
          "VSW": true
      }
  },
  "designerVersion": "5.36.0+40",
  "forms": [
      {
          "defaults": {},
          "elements": {
              "footer": {
                  "enabled": true,
                  "items": {
                      "0": {
                          "default": true,
                          "index": 0,
                          "label": {
                              "markdown": "@queryForm-buttons-submit"
                          },
                          "validates": true,
                          "value": "submit"
                      },
                      "1": {
                          "index": 1,
                          "label": {
                              "markdown": "@queryForm-buttons-cancel"
                          },
                          "validates": false,
                          "value": "cancel"
                      }
                  },
                  "section": "footer",
                  "type": "ButtonBar",
                  "visible": true
              },
              "header": {
                  "section": "header",
                  "title": {
                      "markdown": "@queryForm-title"
                  },
                  "type": "Header"
              }
          },
          "id": 713
      }
  ],
  "licenseInfo": {
      "licenseeId": "6186c77c-832c-031f-68e7-15ddb2c47678"
  },
  "references": [
      {
          "id": 286,
          "path": "https://unpkg.com/@vertigis/workflow-activities-configurable-queries",
          "suite": "uuid:fc5de4bd-b399-4353-82ea-cbf393a350b3"
      }
  ],
  "start": {
      "id": 3
  },
  "strings": {
      "de": {
          "exception-field-not-found": "Abfragefeld im Ziellayer nicht gefunden.  Bitte wenden Sie sich an den Anwendungsadministrator.",
          "exception-layer-not-found": "Ziellayer nicht in Webkarte gefunden. Bitte kontaktieren Sie den Systemadministrator",
          "queriesListForm-buttons-cancel": "Abbrechen",
          "queriesListForm-buttons-refine": "Abfrage ändern",
          "queriesListForm-buttons-run": "Abfragen",
          "queriesListForm-title": "Gespeichert Abfragen",
          "queryForm-buttons-back": "Zurück",
          "queryForm-buttons-cancel": "Abbrechen",
          "queryForm-buttons-submit": "Starten",
          "queryForm-error-no-results": "Die Abfrage hat keine Ergebnisse zurückgegeben. Bitte passen Sie die Parameter an und versuchen Sie es erneut.",
          "queryForm-queriesList-description": "Wählen Sie eine Abfrage auch der untenstehenden Liste aus.",
          "queryForm-queriesList-title": "Gespeicherte Abfragen",
          "queryForm-title": "Layerabfrage"
      },
      "inv": {
          "exception-field-not-found": "Query field not found in target layer.  Please contact the application administrator.",
          "exception-layer-not-found": "Target layer not found in web map. Please contact the system administrator",
          "queriesListForm-buttons-cancel": "Close",
          "queriesListForm-buttons-refine": "Refine Query",
          "queriesListForm-buttons-run": "Run Query",
          "queriesListForm-title": "Stored Queries",
          "queryForm-buttons-back": "Back",
          "queryForm-buttons-cancel": "Close",
          "queryForm-buttons-submit": "Submit",
          "queryForm-error-no-results": "The query return no results.  Please adjust the parameters and try again.",
          "queryForm-queriesList-description": "Select the query from the list below.",
          "queryForm-queriesList-title": "Stored Queries",
          "queryForm-title": "Layer Query"
      }
  },
  "transitions": [
      {
          "branch": "content",
          "id": 262,
          "source": {
              "id": 259
          },
          "target": {
              "id": 261
          }
      },
      {
          "branch": "content",
          "id": 747,
          "inputs": {},
          "source": {
              "id": 715
          },
          "target": {
              "id": 683
          }
      },
      {
          "branch": "content",
          "id": 749,
          "inputs": {},
          "source": {
              "id": 717
          },
          "target": {
              "id": 627
          }
      },
      {
          "branch": "content",
          "id": 751,
          "inputs": {},
          "source": {
              "id": 719
          },
          "target": {
              "id": 585
          }
      },
      {
          "branch": "load$footer",
          "id": 753,
          "inputs": {},
          "source": {
              "id": 721
          },
          "target": {
              "id": 569
          }
      },
      {
          "branch": "load$header",
          "id": 755,
          "inputs": {},
          "source": {
              "id": 721
          },
          "target": {
              "id": 563
          }
      },
      {
          "branch": "content",
          "id": 757,
          "inputs": {},
          "source": {
              "id": 727
          },
          "target": {
              "id": 531
          }
      },
      {
          "branch": "content",
          "id": 759,
          "inputs": {},
          "source": {
              "id": 735
          },
          "target": {
              "id": 501
          }
      },
      {
          "branch": "content",
          "id": 761,
          "inputs": {},
          "source": {
              "id": 737
          },
          "target": {
              "id": 471
          }
      },
      {
          "branch": "content",
          "id": 763,
          "inputs": {},
          "source": {
              "id": 741
          },
          "target": {
              "id": 447
          }
      },
      {
          "branch": "content",
          "id": 765,
          "inputs": {},
          "source": {
              "id": 743
          },
          "target": {
              "id": 381
          }
      },
      {
          "branch": "content",
          "id": 767,
          "inputs": {},
          "source": {
              "id": 745
          },
          "target": {
              "id": 322
          }
      }
  ]
}